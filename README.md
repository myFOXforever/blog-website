### 运行命令

#### 生成模型命令

sequelize-auto -h <数据库主机> -d <数据库名> -u <用户名> -x <密码> -p <端口号>
`sequelize-auto -h localhost -d blog -u root -x 111111 -p 3306`

#### markdown文件后端返回Markdown格式的文件，

然后前端使用react-markdown（`https://github.com/remarkjs/react-markdown` ） 库进行渲染

### 数据库设计

使用mysql数据库

### 获取数据库方法

使用Navicat导入运行db目录下的`blog.sql`文件

### 数据库图

![](https://fox-1314633748.cos.ap-chengdu.myqcloud.com/img%2F202309011648556.png)

### user_level表
获取数据方法
使用Navicat导入运行db目录下的`user_level.sql`文件
 用户级别设置

具体信息如下


| levelId | levelName | remark              |
|---------|-----------|---------------------|
| 1       | 管理员       |                     |
| 2       | 游客        | 登录了但未发表文章，未评论过的用户   |
| 3       | 评论家       | 只评论过的用户             |
| 4       | 新人作者      | 发表过文章的用户（未必评论过）     |
| 5       | 人气作者      | 单篇文章总评论超过20条        |
| 6       | 热门作者      | 单篇文章浏览量超过200        |
| 7       | 高产作者      | 发表文章数超过20           |
| 8       | 高质量作者     | 每篇文章浏览量>200&&评论量>10 |

用户等级更新策略
在用户登录的时候才进行更新

### 文件命名

中间件文件用短横线连接（kebab case）
model，controller，service采用小驼峰
路由命名采用短横线连接（kebab case）
数据库表名采用 下划线连接_

### 代码规范相关

require引入顺序

1. 库文件
2. 内部文件
3. model文件
4. service文件
5. validator文件
6. controller文件
7. middleware文件
8. 其他文件

### 相关知识

#### mysql外键

- mysql外键是一种约束条件，它用于保证两个表之间的数据一致性和完整性。当一个表的某些列的值必须在另一个表的某些列中存在时，就可以设置外键关系¹。
- mysql外键在删除时和更新时有四个选项可以选择：CASCADE、NO ACTION、RESTRICT、SET NULL¹²³⁵。它们的含义和效果如下：
  - CASCADE：当在父表（即外键的来源表）中删除或更新对应记录时，首先检查该记录是否有对应外键，如果有则也删除或更新外键在子表（即包含外键的表）中的记录¹²³⁵。
  - NO ACTION：当在父表（即外键的来源表）中删除或更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除或更新¹²³⁵。
  - RESTRICT：当在父表（即外键的来源表）中删除或更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除或更新¹²³⁵。这是默认选项²。
  - SET NULL：当在父表（即外键的来源表）中删除或更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为null（不过这就要求该外键允许取null）¹²³⁵。
